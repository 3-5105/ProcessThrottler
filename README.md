
# ProcessThrottler

ProcessThrottler 是一个用于限制和控制 Windows 进程资源使用的工具。通过简单的配置界面，您可以对指定进程进行 CPU、内存、磁盘 I/O、网络带宽等资源的控制。

**警告：**
 - **不应该在生产环境下使用此软件**
 - **不建议在您常用的前台窗口软件中启用过高的限制**

## 主要功能


- **CPU 资源限制**：限制进程的 CPU 使用率，支持较宽松的`相对权重`和较严格的`绝对速率`两种模式
- **CPU 核心限制**：限制进程使用特定数量的 CPU 核心或指定的核心编号
- **内存使用限制**：设置进程的最大内存使用量，超限可自动转移到分页文件或终止进程
- **磁盘 I/O 限制（实验性）**：控制进程的磁盘读写速率，避免单个进程占用过多磁盘带宽
- **网络带宽限制（实验性）**：限制进程的网络传输速度，并可设置网络传输优先级
- **进程优先级控制**：设置进程的系统优先级，从低到高（空闲、低、正常、高于正常、高、实时）
- **配置文件管理**：保存和加载多组进程限制配置，按路径和命令行（可选）识别进程

## 系统要求
- WindowsXP ~ Windows7 某些核心功能可用
- Windows 8及以上版本 所有功能均可用
- ~~.NET Framework 4.7.2 或更高版本~~
  使用AOT编译，无需运行库支持，也未内置运行库
- 管理员权限（可选，对于高权限进程，某些资源限制功能需要管理员权限才能正常工作）

## 使用方法

- 启动应用程序后，程序即开始监控
- 双击托盘图标可打开设置界面
- 双击设置界面的列表可进行详细设置

## 配置说明

### CPU 限制选项
- **相对权重限制**：设置进程的 CPU 调度权重，1 为最高优先级，9 为最低优先级
- **绝对速率限制**：直接限制进程的 CPU 使用率百分比
- **核心数量限制**：限制进程可以使用的 CPU 核心数量
- **核心编号限制**：指定进程只能使用特定编号的 CPU 核心

### 内存限制选项
- **内存使用上限**：设置进程可使用的最大内存量（MB）
- **超限操作**：选择当进程超过内存限制时的处理方式（转移到分页文件或终止进程）
- **内存监控（实验性）**：启用后可自动监控内存使用情况，支持自动内存压制（可能将导致卡顿）和超限终止功能

### 磁盘 I/O 限制
- **读写速率限制（实验性）**：控制进程的磁盘读写速度（MB/s）
  注意！目前软件还不能进行精确到线程的识别，启用此功能将导致被限制的软件卡顿

### 网络限制（实验性）
- **最大速率限制**：控制进程的网络传输速度（MB/s）
- **传输优先级**：通过 DSCP 标记设置网络数据包的优先级（0-63，63最高）
较大概率出现限制失败的情况，正在改进

## 注意事项
- 限制系统关键进程可能导致系统不稳定，请谨慎使用
- 程序稳定性未经过大量验证，可能在极端情况下导致被限制进程终止

## 技术信息
编译环境：NET 9（AOT启用）
大部分功能参考了https://github.com/lowleveldesign/process-governor，但没有参考或使用其代码

## 待办
 - 单实例限制
 - 开机自启支持（可选地）
 - 暗黑模式
 - 专注模式（对前台窗口不限制）
 - 冬眠模式（除前台窗口外全部解除内存、CPU、GPU、磁盘IO、网络带宽占用）
 - 更优化的磁盘IO控制（挂起操作精确到线程，可避免限制时界面无反应）
 - i18n
 - 其他（请补充）
